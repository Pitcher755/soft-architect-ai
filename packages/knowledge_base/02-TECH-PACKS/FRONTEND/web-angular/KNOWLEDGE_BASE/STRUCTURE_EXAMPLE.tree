# ðŸ—ï¸ Angular Project Structure: Standalone Components Era

> **Angular Version:** 17+
> **Pattern:** Standalone Components (NgModule is Legacy)
> **Architecture:** Feature-Driven Structure

Estructura moderna de proyectos Angular basada en Componentes Standalone.

---

## ðŸ“– Tabla de Contenidos

1. [Estructura RaÃ­z](#estructura-raÃ­z)
2. [Core Module (Singletons)](#core-module-singletons)
3. [Features (Lazy Loading)](#features-lazy-loading)
4. [Shared Components](#shared-components)
5. [Convenciones de Naming](#convenciones-de-naming)

---

## Estructura RaÃ­z

```
src/
â”‚
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ app.config.ts              # ConfiguraciÃ³n Global (Providers, Routes)
â”‚   â”œâ”€â”€ app.routes.ts              # DefiniciÃ³n de rutas (Lazy Loading)
â”‚   â”œâ”€â”€ app.component.ts           # Root Component
â”‚   â”‚
â”‚   â”œâ”€â”€ core/                      # Singleton Services & Guards
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.service.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.interceptor.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ jwt.guard.ts
â”‚   â”‚   â”‚   â””â”€â”€ auth.model.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ http/
â”‚   â”‚   â”‚   â””â”€â”€ error.interceptor.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ storage/
â”‚   â”‚   â”‚   â””â”€â”€ local-storage.service.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ config/
â”‚   â”‚       â””â”€â”€ app.config.service.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ features/                  # MÃ³dulos Funcionales (Lazy Loaded)
â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard.routes.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ dashboard.component.ts  # Standalone
â”‚   â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ dashboard.service.ts
â”‚   â”‚   â”‚   â””â”€â”€ ui/
â”‚   â”‚   â”‚       â”œâ”€â”€ stat-card.component.ts
â”‚   â”‚   â”‚       â””â”€â”€ chart-widget.component.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ users/
â”‚   â”‚   â”‚   â”œâ”€â”€ users.routes.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ users-list.component.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ user-detail.component.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ user-edit.component.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ users.service.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ user.model.ts
â”‚   â”‚   â”‚   â””â”€â”€ ui/
â”‚   â”‚   â”‚       â”œâ”€â”€ user-card.component.ts
â”‚   â”‚   â”‚       â””â”€â”€ user-form.component.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ auth/
â”‚   â”‚       â”œâ”€â”€ auth.routes.ts
â”‚   â”‚       â”œâ”€â”€ pages/
â”‚   â”‚       â”‚   â”œâ”€â”€ login.component.ts
â”‚   â”‚       â”‚   â””â”€â”€ register.component.ts
â”‚   â”‚       â”œâ”€â”€ models/
â”‚   â”‚       â”‚   â””â”€â”€ credentials.model.ts
â”‚   â”‚       â””â”€â”€ ui/
â”‚   â”‚           â””â”€â”€ auth-form.component.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ shared/                   # UI Kit Reutilizable (No Business Logic)
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ modal/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ modal.component.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ modal.component.css
â”‚   â”‚   â”‚   â”œâ”€â”€ button/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ button.component.ts
â”‚   â”‚   â”‚   â””â”€â”€ confirm-dialog/
â”‚   â”‚   â”‚       â””â”€â”€ confirm-dialog.component.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ pipes/
â”‚   â”‚   â”‚   â”œâ”€â”€ truncate.pipe.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ safe-html.pipe.ts
â”‚   â”‚   â”‚   â””â”€â”€ date-format.pipe.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ directives/
â”‚   â”‚   â”‚   â”œâ”€â”€ click-outside.directive.ts
â”‚   â”‚   â”‚   â””â”€â”€ auto-focus.directive.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ styles/
â”‚   â”‚   â”‚   â”œâ”€â”€ variables.css
â”‚   â”‚   â”‚   â”œâ”€â”€ reset.css
â”‚   â”‚   â”‚   â””â”€â”€ utilities.css
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ constants.ts           # Constantes globales
â”‚   â”‚
â”‚   â”œâ”€â”€ layout/                   # Layout Components (Header, Sidebar)
â”‚   â”‚   â”œâ”€â”€ sidebar.component.ts
â”‚   â”‚   â”œâ”€â”€ header.component.ts
â”‚   â”‚   â”œâ”€â”€ footer.component.ts
â”‚   â”‚   â””â”€â”€ main-layout.component.ts
â”‚   â”‚
â”‚   â””â”€â”€ models/                   # Shared Data Models
â”‚       â”œâ”€â”€ api-response.model.ts
â”‚       â”œâ”€â”€ pagination.model.ts
â”‚       â””â”€â”€ error.model.ts
â”‚
â”œâ”€â”€ assets/                      # EstÃ¡ticos (ImÃ¡genes, iconos)
â”‚   â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ icons/
â”‚   â””â”€â”€ fonts/
â”‚
â”œâ”€â”€ environments/               # Variables de entorno
â”‚   â”œâ”€â”€ environment.ts          # Desarrollo
â”‚   â”œâ”€â”€ environment.prod.ts     # ProducciÃ³n
â”‚   â””â”€â”€ environment.staging.ts  # Staging
â”‚
â”œâ”€â”€ main.ts                     # Bootstrap
â”œâ”€â”€ index.html                  # HTML raÃ­z
â””â”€â”€ styles.css                  # Estilos globales

```

---

## Core Module (Singletons)

Servicios que se instancian UNA SOLA VEZ en toda la app.

### `auth.service.ts`

```typescript
import { Injectable } from '@angular/core';
import { BehaviorSubject, Observable } from 'rxjs';

export interface User {
  id: string;
  email: string;
  roles: string[];
}

@Injectable({
  providedIn: 'root'
})
export class AuthService {
  private currentUser = new BehaviorSubject<User | null>(null);
  currentUser$ = this.currentUser.asObservable();

  constructor(private http: HttpClient) {
    this.loadUser();
  }

  login(email: string, password: string): Observable<User> {
    return this.http.post<User>('/api/auth/login', { email, password })
      .pipe(
        tap(user => this.currentUser.next(user)),
        tap(user => localStorage.setItem('token', user.token))
      );
  }

  logout(): void {
    this.currentUser.next(null);
    localStorage.removeItem('token');
  }

  private loadUser(): void {
    const token = localStorage.getItem('token');
    if (token) {
      // Validar token y cargar usuario
    }
  }
}
```

### `jwt.guard.ts`

```typescript
import { Injectable } from '@angular/core';
import { CanActivate, Router } from '@angular/router';

@Injectable({
  providedIn: 'root'
})
export class JwtGuard implements CanActivate {
  constructor(private auth: AuthService, private router: Router) {}

  canActivate(): boolean {
    if (this.auth.isAuthenticated()) {
      return true;
    }
    this.router.navigate(['/login']);
    return false;
  }
}
```

---

## Features (Lazy Loading)

Cada feature es **autÃ³noma** y carga bajo demanda.

### `dashboard.routes.ts`

```typescript
import { Routes } from '@angular/router';
import { DashboardComponent } from './pages/dashboard.component';

export const DASHBOARD_ROUTES: Routes = [
  {
    path: '',
    component: DashboardComponent,
    data: { title: 'Dashboard' }
  }
];
```

### `users.routes.ts`

```typescript
import { Routes } from '@angular/router';
import { JwtGuard } from '@/core/auth/jwt.guard';
import { UsersListComponent } from './pages/users-list.component';
import { UserDetailComponent } from './pages/user-detail.component';

export const USERS_ROUTES: Routes = [
  {
    path: '',
    component: UsersListComponent,
    canActivate: [JwtGuard],
    data: { title: 'Users' }
  },
  {
    path: ':id',
    component: UserDetailComponent,
    canActivate: [JwtGuard]
  }
];
```

### `app.routes.ts` (Router Principal)

```typescript
import { Routes } from '@angular/router';
import { JwtGuard } from './core/auth/jwt.guard';

export const APP_ROUTES: Routes = [
  {
    path: '',
    component: MainLayoutComponent,
    children: [
      {
        path: 'dashboard',
        loadChildren: () => import('./features/dashboard/dashboard.routes')
          .then(m => m.DASHBOARD_ROUTES),
        canActivate: [JwtGuard]
      },
      {
        path: 'users',
        loadChildren: () => import('./features/users/users.routes')
          .then(m => m.USERS_ROUTES),
        canActivate: [JwtGuard]
      }
    ]
  },
  {
    path: 'auth',
    loadChildren: () => import('./features/auth/auth.routes')
      .then(m => m.AUTH_ROUTES)
  },
  {
    path: '**',
    redirectTo: ''
  }
];
```

---

## Shared Components

Componentes sin lÃ³gica de negocio, reutilizables.

### `modal.component.ts`

```typescript
import { Component, Input, Output, EventEmitter } from '@angular/core';
import { CommonModule } from '@angular/common';

@Component({
  selector: 'app-modal',
  standalone: true,
  imports: [CommonModule],
  template: `
    <div class="modal-overlay" (click)="onClose()">
      <div class="modal-content" (click)="$event.stopPropagation()">
        <div class="modal-header">
          <h2>{{ title }}</h2>
          <button class="close" (click)="onClose()">Ã—</button>
        </div>
        <div class="modal-body">
          <ng-content></ng-content>
        </div>
      </div>
    </div>
  `,
  styleUrls: ['./modal.component.css']
})
export class ModalComponent {
  @Input() title: string = '';
  @Output() closed = new EventEmitter<void>();

  onClose(): void {
    this.closed.emit();
  }
}
```

---

## Convenciones de Naming

| Elemento | PatrÃ³n | Ejemplo |
|:---|:---|:---|
| **Componente** | `{name}.component.ts` | `user-card.component.ts` |
| **Service** | `{domain}.service.ts` | `users.service.ts` |
| **Guard** | `{domain}.guard.ts` | `jwt.guard.ts` |
| **Pipe** | `{name}.pipe.ts` | `truncate.pipe.ts` |
| **Directive** | `{name}.directive.ts` | `click-outside.directive.ts` |
| **Model/Interface** | `{name}.model.ts` | `user.model.ts` |
| **Routes** | `{feature}.routes.ts` | `users.routes.ts` |

---

## Best Practices Checklist

```bash
# âœ… 1. Structure
[ ] Componentes standalone (no NgModules)
[ ] Lazy loading en features
[ ] Singletons en core/
[ ] Sin business logic en shared/

# âœ… 2. Services
[ ] Un servicio por dominio
[ ] Injectable con providedIn: 'root'
[ ] No lÃ³gica en componentes

# âœ… 3. Routing
[ ] Routes tipadas
[ ] Guards en rutas protegidas
[ ] Lazy loading de features
[ ] Redirect para 404

# âœ… 4. Components
[ ] Presentacionales (dumb) vs Contenedores (smart)
[ ] Input/Output bien definidos
[ ] OnPush change detection
[ ] No suscripciones directas (AsyncPipe)

# âœ… 5. Performance
[ ] Code splitting automÃ¡tico
[ ] Lazy loading de mÃ³dulos
[ ] OnPush detection
[ ] trackBy en *ngFor
```

---

**Fecha:** 30 de Enero de 2026
**Status:** âœ… MODERN ANGULAR STRUCTURE
**Responsable:** ArchitectZero AI Agent
